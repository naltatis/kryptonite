(function(t){"use strict";var e;return t.kryptonite=function(e,o){var n;return n="object"==typeof o?o:{},"function"==typeof o&&(n.success=o),"string"==typeof e?n.url=e:n=e,n.dataType="kryptonite",t.ajax(n)},t.kryptonite.handle=function(o){var n;return e.start(),n=t(t.parseHTML(o)),n.filter("[data-selector]").each(function(o,n){var r,a,i,l;return r=t(n),l=r.attr("data-selector"),a=r.attr("data-action")||t.kryptonite.options.defaultAction,null!=t.kryptonite.options.alias[a]&&(a=t.kryptonite.options.alias[a]),i=r.html(),t.kryptonite.options.uncomment&&(i=t.kryptonite.uncomment(i)),t(l).trigger("before:kryptonite",a),e.action(l,a,i),t(l)[a](i),t(l).trigger("after:kryptonite",a)}),n.filter("[data-eval]").each(function(o,n){var r;return r=t(n).data("eval"),e.eval(r),t.globalEval(r)}),o},t.kryptonite.options={debug:!1,uncomment:!0,alias:{replace:"replaceWith",replaceContent:"html"},defaultAction:"replaceContent"},t.ajaxSetup({converters:{"text kryptonite":t.kryptonite.handle}}),t.kryptonite.uncomment=function(t){var e;return e=t.match(/^\s*<!--(((?!-->).)*)-->\s*$/),e?e[1]:t},e={action:function(e,o,n){return t.kryptonite.debug&&(console.log("---"),console.log("selector '"+e+"' -> "+t(e).size()+" matches"),t(e).size()>0)?(console.log.apply(console,t(e)),console.log("$('"+e+"')."+o+"('"+n+"');")):void 0},eval:function(e){return t.kryptonite.debug?(console.log("---"),console.log("evaluating script '"+e+"'")):void 0},start:function(){return t.kryptonite.debug?console.log(">>> kryptonite start"):void 0},end:function(){return t.kryptonite.debug?console.log("<<< kryptonite end"):void 0}}})(jQuery);